- name: Install DDClient
  ansible.builtin.apt:
    name:
      - ddclient
- name: Copy ddclient configuration
  ansible.builtin.copy:
    content: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36373863333334353062613234643064313435616263366333346165353964386661336433373939
          3565336265626565393765333630626163656238393932650a303032316333396138353539623630
          39656165666163663964663066626438613735366633393830336665383264306466386165646233
          6237326136323963360a303664663231313763366533636333656130316233333433656663376563
          31373931336439613531313064343564363437326230663261663832326164306133643135666634
          32373637316661663931336231666330346566616431363931393261343737616531616561306661
          65633834356634373661346363623665373433396537346335373062666430376162333533303665
          36663865663938323239376232633161386637623362633637313034386136643233376361616635
          61373535626565373536393066303132383966333238393132636230346662363564393065653233
          3635313532333364363766363237326566333665373538623034
    dest: /etc/ddclient.conf
    mode: 0660
    owner: root
    group: root
- name: Start DDclient service
  ansible.builtin.systemd:
    name: ddclient
    enabled: true
    state: started
