---
- name: Franklin
  hosts: franklin
  remote_user: pi
  become: true
  tasks:
    - name: Common Configuration
      when: clean is defined
      ansible.builtin.include_tasks:
        file: linux/playbook.yml
    - name: Mount Configuration
      when: clean is defined
      ansible.builtin.include_tasks:
        file: mount/playbook.yml
    - name: Docker Configuration
      ansible.builtin.include_tasks:
        file: docker/setup/playbook.yml
    - name: Docker deployment
      ansible.builtin.include_tasks:
        file: docker/deploy/playbook.yml
      with_items:
        - "{{ services }}"