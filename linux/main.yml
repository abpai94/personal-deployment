- name: Adding hostnames
  blockinfile:
    path: /etc/hosts
    block: |
      192.168.1.1     turing
      192.168.1.2     franklin
- name: RAID directory
  file:
    path: /media/eleanor
    state: directory
    mode: 0755
    owner: '{{ owner }}'
    group: '{{ group }}'
- name: Symbolic links
  file:
    src: /media/eleanor
    dest: /mnt/eleanor
    state: link
    owner: '{{ owner }}'
    group: '{{ group }}'
- name: Symbolic links for eleanor
  file:
    src: /media/eleanor
    dest: /mnt/eleanor
    state: link
    owner: '{{ owner }}'
    group: '{{ group }}'
- name: Install NFS Client
  apt:
    name:
      - nfs-common
- name: NFS Mount md0 RAID from Eleanor
  ansible.posix.mount:
    src: eleanor:/media/md0
    path: /media/md0
    state: mounted
    fstype: nfs
- name: NFS Mount md1 RAID from Eleanor
  ansible.posix.mount:
    src: eleanor:/media/md1
    path: /media/md1
    state: mounted
    fstype: nfs
# MAYBE NEEDED IN THE FUTURE
# - name: Adding deny veth interfaces to DHCPCD config
#   blockinfile:
#     path: /etc/dhcpcd.conf
#     block: |
#       denyinterfaces veth*
# - name: Restart DHCPCD systemd service
#   systemd_service:
#     name: dhcpcd
#     state: restarted